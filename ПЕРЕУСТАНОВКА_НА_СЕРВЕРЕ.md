# üîÑ –ü–ï–†–ï–£–°–¢–ê–ù–û–í–ö–ê DMT –ù–ê –°–ï–†–í–ï–†–ï

## üö® –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —Å—Ç–∞—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ DMT –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ?

**–ù–µ –ø—Ä–æ–±–ª–µ–º–∞!** –°–ª–µ–¥—É–π—Ç–µ —ç—Ç–æ–π –ø–æ—à–∞–≥–æ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.

---

## üìã –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø:

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–∏—Å—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ (–Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)

```bash
# –ù–∞ –≤–∞—à–µ–º Windows –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
bash create_minimal_package.sh

# –†–µ–∑—É–ª—å—Ç–∞—Ç: DMT_production_minimal_YYYYMMDD_HHMMSS.tar.gz
```

### –®–∞–≥ 2: –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp cleanup_server.sh root@YOUR_SERVER:/tmp/

# 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∫—É
ssh root@YOUR_SERVER
cd /tmp
chmod +x cleanup_server.sh
bash cleanup_server.sh

# –°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ - –≤–≤–µ–¥–∏—Ç–µ 'y'
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏:**
- ‚úÖ –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ —Å–ª—É–∂–±—ã DMT
- ‚úÖ –£–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
- ‚úÖ –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –û—á–∏—â–∞–µ—Ç –ª–æ–≥–∏ –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã
- ‚úÖ –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–æ—Ä—Ç—ã
- ‚úÖ –£–¥–∞–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–≤ —Ç–æ–º –∂–µ SSH —Å–µ–∞–Ω—Å–µ)
cd /tmp

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤ (—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
scp DMT_production_minimal_*.tar.gz root@YOUR_SERVER:/tmp/

# –†–∞—Å–ø–∞–∫—É–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
tar -xzf DMT_production_minimal_*.tar.gz
cd DMT_production_minimal_*

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ —Ä–∞–±–æ—á—É—é –ø–∞–ø–∫—É
mkdir -p /var/www/dmt.expert
cp -r * /var/www/dmt.expert/
```

### –®–∞–≥ 4: –ù–æ–≤–∞—è —á–∏—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–±–æ—á—É—é –ø–∞–ø–∫—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
cd /var/www/dmt.expert
bash quick_deploy_minimal.sh

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–π–º–µ—Ç 2-3 –º–∏–Ω—É—Ç—ã
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–ª—É–∂–±
systemctl status dmt nginx

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–∞–π—Ç –æ—Ç–≤–µ—á–∞–µ—Ç
curl -s http://localhost/ | head -5

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API
curl -s http://localhost/api/health
```

---

## üö® –ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö:

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –°–¥–µ–ª–∞–π—Ç–µ —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x cleanup_server.sh
bash cleanup_server.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—Å—Ç–∞–ª–∏—Å—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–±–µ–π—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã DMT
pkill -f dmt
pkill -f gunicorn
pkill -f "python.*app.py"

# –û—Å–≤–æ–±–æ–¥–∏—Ç–µ –ø–æ—Ä—Ç 5000
lsof -ti:5000 | xargs kill -9

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∫—É –ø–æ–≤—Ç–æ—Ä–Ω–æ
bash cleanup_server.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: Nginx –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t

# –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - —É–¥–∞–ª–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã
rm -f /etc/nginx/sites-enabled/dmt*
rm -f /etc/nginx/sites-available/dmt*

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
systemctl restart nginx
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ñ–∞–π–ª—ã
```bash
# –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
chown -R root:root /var/www/dmt.expert/
chmod -R 755 /var/www/dmt.expert/
chmod 755 /var/www/dmt.expert/logs
chmod 755 /var/www/dmt.expert/created_docx
```

---

## ‚ö° –ë–´–°–¢–†–´–ô –°–ü–û–°–û–ë (–æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π):

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –≤—Å—ë –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
bash create_minimal_package.sh

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_SERVER –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
ssh root@YOUR_SERVER 'pkill -f dmt; systemctl stop dmt nginx; rm -rf /var/www/dmt.expert /etc/systemd/system/dmt.service /etc/nginx/sites-*/dmt*; systemctl daemon-reload; systemctl start nginx'

# –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
scp DMT_production_minimal_*.tar.gz root@YOUR_SERVER:/tmp/

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
ssh root@YOUR_SERVER 'cd /tmp; tar -xzf DMT_production_minimal_*.tar.gz; cd DMT_production_minimal_*; mkdir -p /var/www/dmt.expert; cp -r * /var/www/dmt.expert/; cd /var/www/dmt.expert; bash quick_deploy_minimal.sh'
```

---

## ‚úÖ –ü–†–ò–ó–ù–ê–ö–ò –£–°–ü–ï–®–ù–û–ô –ü–ï–†–ï–£–°–¢–ê–ù–û–í–ö–ò:

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
üéâ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!

üìä –°—Ç–∞—Ç—É—Å:
‚úÖ DMT: –†–∞–±–æ—Ç–∞–µ—Ç
‚úÖ Nginx: –†–∞–±–æ—Ç–∞–µ—Ç

üåê –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://YOUR_IP
```

–ò –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ:
```bash
curl http://YOUR_IP/api/health
# –û—Ç–≤–µ—Ç: {"status":"ok","timestamp":"...","version":"1.0.0"}
```

---

## üéØ –ò–¢–û–ì:

1. **cleanup_server.sh** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä –æ—Ç —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
2. **create_minimal_package.sh** - —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π —á–∏—Å—Ç—ã–π –ø–∞–∫–µ—Ç
3. **quick_deploy_minimal.sh** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å—ë —Å –Ω—É–ª—è –∑–∞ 3 –º–∏–Ω—É—Ç—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —á–∏—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è! üéâ

---

*–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã - –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `journalctl -u dmt -n 50`*
